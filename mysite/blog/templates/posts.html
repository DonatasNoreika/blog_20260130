{% extends "base.html" %}

{% block content %}
{% for post in posts %}
<article>
    <header class="mb-4">
        <h1 class="fw-bolder mb-1">{{ post.title }}</h1>
        <div class="text-muted fst-italic mb-2">Posted on {{ post.created }} by {{ post.author.first_name }} {{ post.author.last_name }}</div>
    </header>
    <div>
        {% if post.cover %}
        <img src="{{ post.cover.url }}" class="card-img-top" alt="...">
        {% endif %}
    </div>
    <section class="mb-5">
        <p class="fs-5 mb-4">{{ post.content | truncatewords:"30" | safe }} <a href="{% url 'post' post.pk %}">Read more</a></p>
        <p>Comments: {{ post.comments.count }}</p>
    </section>
</article>
{% endfor %}

{% if posts.has_other_pages %}
<div class="container">
    <nav aria-label="...">
            <ul class="pagination pagination-sm justify-content-center">
                {% for i in posts.paginator.page_range %}
                    {% if posts.number == i %}
                        <li class="page-item active">
                            <a class="page-link">{{ i }}</a>
                        </li>
                    {% else %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ i }}">{{ i }}</a>
                        </li>
                    {% endif %}
                {% endfor %}
            </ul>
    </nav>
</div>
{% endif %}
{% endblock %}

<!--{% for post in posts %}-->
<!--<h1>{{ post.title }}</h1>-->
<!--<small>{{ post.created }}, {{ post.author }}</small>-->
<!--<p>{{ post.content }}</p>-->
<!--<p>Komentar≈≥: {{ post.comments.count }}</p>-->
<!--{% endfor %}-->